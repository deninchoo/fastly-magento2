{
  "version": 1,
  "description": "For selected requests, override caching directives received from the origin server.  Often used to increase TTL for static assets.",
  "name": "Override Edge TTL / cache time",
  "test": {
    "reqUrl": "/html",
    "origins": [
      "https://httpbin.org"
    ]
  },
  "vcl": [
    {
      "type": "fetch",
      "template": "{{#each rules}}\nif (req.url ~ \"{{pathpattern}}\") {\n  set beresp.ttl = {{ttl}};\n  {{#if swr}}set beresp.stale-while-revalidate = {{swr}};{{/if}}\n  {{#if sie}}set beresp.stale-if-error = {{sie}};{{/if}}\n}\n{{/each}}"
    }
  ],
  "id": "ttloverride",
  "properties": [
    {
      "label": "Override rules",
      "type": "group",
      "properties": [
        {
          "label": "Path pattern",
          "required": true,
          "type": "string",
          "description": "Regular expressions are supported",
          "name": "pathpattern"
        },
        {
          "required": true,
          "type": "rtime",
          "name": "ttl",
          "label": "Freshness duration"
        },
        {
          "required": false,
          "type": "rtime",
          "name": "swr",
          "label": "Stale while revalidate duration"
        },
        {
          "required": false,
          "type": "rtime",
          "name": "sie",
          "label": "Stale if error duration"
        }
      ],
      "name": "rules",
      "entryTemplate": "{{pathpattern}}: {{ttl}}s"
    }
  ]
}